1 какие базовые цепочки и таблицы существуют в iptables и для чего служат?  
Input - обрабатывает входящие пакеты и подключения. Например, если какой-либо внешний пользователь пытается подключиться к вашему компьютеру по ssh или любой веб-сайт отправит вам свой контент по запросу браузера. Все эти пакеты попадут в эту цепочку;  
forward - эта цепочка применяется для проходящих соединений. Сюда попадают пакеты, которые отправлены на ваш компьютер, но не предназначены ему, они просто пересылаются по сети к своей цели. Как я уже говорил, такое наблюдается на маршрутизаторах или, например, если ваш компьютер раздает wifi;  
output - эта цепочка используется для исходящих пакетов и соединений. Сюда попадают пакеты, которые были созданы при попытке выполнить ping losst.ru или когда вы запускаете браузер и пытаетесь открыть любой сайт.  
prerouting - в эту цепочку пакет попадает перед обработкой iptables, система еще не знает куда он будет отправлен, в input, output или forward;  
postrouting - сюда попадают все проходящие пакеты, которые уже прошли цепочку forward.  
2 опишите процесс обработки пакета который предназначен данной системе  
3 что такое conntrack и для чего используется?  
Отслеживание соединений (“conntrack”) является основной функцией сетевого стека ядра Linux. Она позволяет ядру отслеживать все логические сетевые соединения или потоки и тем самым идентифицировать все пакеты, которые составляют каждый поток, чтобы их можно было последовательно обрабатывать вместе.  

4 какими командами создать/удалить цепочку? создать/удалить правило? создать правило до определенного правила в цепочке?  
 iptables -N CHAINNEW  - Создать цепочку  
	iptables -X CHAINNEW - Удалить цепочку  
	iptables -A CHAIN -s 192.168.0.1 -j ACTION - Создать правило  
		iptables -D CHAIN - Удалить правило
	iptables -I CHAIN 5 -s 192.168.0.1 -j ACTION -	Создать правило до определённого правила в цепочке  
Лабораторная работа:  
взять за основу конфигурационный файл iptables ниже, поднять в системе веб сервер.   
1 настроить правила которые разрешают доступ на этот сервер с определенной подсети или хоста в которой находитесь вы как клиент, продемонстрировать что работает icmp 
iptables -I INPUT -s 192.168.183.1 -j ACCEPT  
![image](https://user-images.githubusercontent.com/70812795/115958788-4f218500-a522-11eb-8a77-14c93216a69e.png)  
2 затем закрыть доступ из этой подсети по icmp, осавив доступ по ssh, продемонстрировать что хост по ssh доступен а icmp нет  
iptables -I INPUT -s 192.168.183.1 -j DROP  
iptables -I INPUT -s 192.168.183.1 -p tcp --dport 22 -j ACCEPT  
![image](https://user-images.githubusercontent.com/70812795/115958908-e25aba80-a522-11eb-984b-6487fc993639.png)
3 Запретить только ssh , продемонстрировать что icmp работает, но сервер не пингается   
sudo nano /etc/hosts.deny  
sshd: ALL  
![image](https://user-images.githubusercontent.com/70812795/115959012-79277700-a523-11eb-895e-9993b5435656.png)

